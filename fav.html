<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>favprites</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="fav.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>

    </style>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="shared.css">


</head>

<body>

    <div class="topbar">
        <div class="container d-flex justify-content-end contact-info">
            <div><i class="fa-solid fa-envelope"></i> info@example.com</div>
            <div><i class="fa-solid fa-phone"></i> +8 12 3456897</div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg">



        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fa-solid fa-suitcase-medical"></i>MeCare</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="services.html">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cart.html">Cart</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="fav.html">Favourites</a>
                    </li>
                </ul>

                <div class="d-flex ms-3 gap-2 guest-only">
                    <button class="btn btn-primary px-4 py-2 rounded-pill" onclick="goLogin()">Login</button>
                    <button class="btn btn-outline-primary px-4 py-2 rounded-pill"
                        onclick="goRegister()">Register</button>
                </div>

                <div class="ms-3 gap-2 align-items-center auth-only d-none" id="authArea">
                    <span id="welcomeUser" class="me-2 fw-bold"></span>
                    <button class="btn btn-outline-danger px-4 py-2 rounded-pill" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </nav>
    <div><button class="btn p-4"> <i class="fa-solid fa-user "></i> Login/Register</button></div>
    </div>
    </nav>
    <div class="theheading ">
        <h1> <i class="fa-solid fa-heart"></i></h1>
        <p></p>
    </div>
    <div id="favcards">
        <p><i class="fa-solid fa-heart"></i>Saved Favorites</p>

    </div>






    <!-- ============================footer=================================== -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>MeCare</h3>
                <p>

                    We provide high-quality medical care with expert doctors, modern equipment, and a focus on patient
                    comfort and safety.


                </p>
                <div class="social-icons">
                    <a href="#"><i class="fa-brands fa-facebook"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#"><i class="fa-brands fa-twitter"></i></i></a>
                    <a href="#"><i class="fa-brands fa-linkedin"></i></a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Services</a></li>
                    <li><a href="#">Favorites</a></li>
                    <li><a href="#">Cart</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Property Types</h4>
                <ul>
                    <li><a href="#">About us</a></li>
                    <li><a href="#"> Career</a></li>
                    <li><a href="#"> Reviews</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Contact Information</h4>
                <p><i class="fa fa-map-marker"></i> 125 MeCare, City, Country</p>
                <p><i class="fa fa-phone"></i> +1 234 567 8900</p>
                <p><i class="fa fa-envelope"></i> info@MeCare.com</p>
            </div>
        </div>

        <hr />

        <div class="footer-bottom">
            <p>© 2024 MeCare all copyrights </p>
            <p>Designed with <span><i class="fa-solid fa-heart" style="color: #ff0000;"></i></a></span> for you</p>
        </div>
    </footer>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="welcom.js"></script>
    <script>
        const container = document.getElementById("favcards");
        let favcards = JSON.parse(localStorage.getItem("loved")) || [];
        console.log(favcards);


        function favitems() {
            container.innerHTML = "";
            container.classList.add("container");
            if (favcards.length === 0) {
                container.innerHTML = `
        

        <div class="d-flex align-items-center justify-content-center" style="min-height: 60vh; width: 100%;">
            <div class="text-center" style="max-width: 500px;">
                <h4 class="mb-3">
                    <i class="fa-solid fa-heart me-2 fs-4" ></i> No Favorites Yet
                </h4>
                <p class="mb-4 fs-5 text-secondary">
                    Start exploring some of our special services
                </p>
                <a href="services.html" class="btn btn-primary px-4 py-2 rounded">
                    <i class="fa-solid fa-magnifying-glass-location me-2"></i> Explore Services
                </a>
            </div>
        </div>
    `;
                return;
            }







            container.innerHTML = `
           <div class="w-100 text-end me-3 mb-3">
    <button class="btn btn-danger" onclick="clearAll()">
        <i class="fa-solid fa-trash text-white"></i> Clear All
    </button>
</div>


        `;

            favcards.forEach((item, index) => {
                const div = document.createElement("div");
                div.classList.add("card", "p-3", "m-5");
                div.innerHTML = `
                <img src="${item.iconUrl}" alt="${item.serviceName}" class="imag">
                <h4 class="name">${item.serviceName}</h4>
                <p><strong class="price"> price: $${item.price}</strong></p>
                 <p class="desc">${item.shortDescription}</p>
                 <p style="color:grey;">${item.estimatedDeliveryTime}</p>
          
          <h6><i class="fa-solid fa-star" style="color: #FFD43B;"></i>${item.rating}</h6>
                   <button class="btn btn-primary w-40 mb-2" onclick="goToDetails(${item.id})">
                        <i class="fa-solid fa-eye me-2"></i> View
                    </button>
               
                <button class="btn btn-danger rounded w-40" onclick="removeFromCart(${index})">Remove</button>
            `;
                container.appendChild(div);
            });
        }




        function removeFromCart(index) {
            Swal.fire({
                title: 'Are you sure?',
                text: "This item will be removed from your favorites.",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Yes, remove it!',
                cancelButtonText: 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    favcards.splice(index, 1);
                    localStorage.setItem("loved", JSON.stringify(favcards));
                    favitems(); // <-- بدلاً من trips()
                    Swal.fire({
                        title: "Deleted!",
                        text: "The item has been removed.",
                        icon: "success",
                        timer: 1500,
                        showConfirmButton: false
                    });
                }
            });
        }

        function clearAll() {
            Swal.fire({
                title: 'Are you sure?',
                text: "All favorites will be deleted!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Yes, delete all!',
                cancelButtonText: 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    localStorage.removeItem("loved");
                    favcards = [];
                    favitems();
                    Swal.fire({
                        title: 'Deleted!',
                        text: 'All favorites have been removed.',
                        icon: 'success',
                        timer: 1500,
                        showConfirmButton: false
                    });
                }
            });
        }


        favitems();

        function goToDetails(id) {
            localStorage.setItem("doctorId", id);
            window.location.href = "details2.html"; // أو اسم صفحة التفاصيل
        }
    </script>



</body>

</html>